<!DOCTYPE html><html><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>MapBox 地图 | 谁动了我的芝麻酱</title><link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="/css/highlights/dracula.css"><link rel="canonical" href="https://blog.cuihp.top/2017/05/26-mapbox.html"/>
<meta name="description" content="个人感觉地图UI真的是很漂亮，如果你也在为你的应用寻找一款漂亮的地图，MapBox值得一试。看图：  Add Mapbox as a dependency to your build.gradle file:123456789repositories &amp;#123;   …">
<meta name="keywords" content="android">
<meta property="og:type" content="article">
<meta property="og:title" content="MapBox 地图">
<meta property="og:url" content="https://blog.cuihp.top/2017/05/26-mapbox.html">
<meta property="og:site_name" content="谁动了我的芝麻酱">
<meta property="og:description" content="个人感觉地图UI真的是很漂亮，如果你也在为你的应用寻找一款漂亮的地图，MapBox值得一试。看图：  Add Mapbox as a dependency to your build.gradle file:123456789repositories &amp;#123;   …">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://bucketcuihp.oss-cn-hongkong.aliyuncs.com/392cce9e113b9d37d09cadac0693d989.jpg">
<meta property="og:updated_time" content="2018-05-06T06:29:13.554Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MapBox 地图">
<meta name="twitter:description" content="个人感觉地图UI真的是很漂亮，如果你也在为你的应用寻找一款漂亮的地图，MapBox值得一试。看图：  Add Mapbox as a dependency to your build.gradle file:123456789repositories &amp;#123;   …">
<meta name="twitter:image" content="https://bucketcuihp.oss-cn-hongkong.aliyuncs.com/392cce9e113b9d37d09cadac0693d989.jpg"><meta property="article:author" content="CuiHp"><meta property="twitter:label1" content="Published at"><meta property="twitter:data1" content="2017-05-26 14:30:00"><meta property="twitter:label2" content="Written by"><meta property="twitter:data2" content="CuiHp"><link rel="icon" href="/images/icon.png"><link rel="alternate" href="/atom.xml" type="application/atom+xml" title="谁动了我的芝麻酱"></head><body itemscope itemtype="https://schema.org/WebPage"><nav class="menu" id="menu"><div class="menu-inner"><div class="menu__left-area"><div class="menu__item"><a class="menu__item__link menu__item__link--brand" href="/" title="Home" rel="home"><img class="menu__item__link--brand__image" src="/images/icon.png" alt="谁动了我的芝麻酱"><span class="menu__item__link--brand__label">谁动了我的芝麻酱</span></a></div></div><div class="menu__right-area"><div class="menu__item"><a class="menu__item__link" href="/">Home</a></div><div class="menu__item"><a class="menu__item__link" href="/android">Android</a></div><div class="menu__item"><a class="menu__item__link" href="/about">About</a></div></div></div></nav><div class="page-background"></div><div class="content-container"><div class="content-outer"><div class="content-inner" itemscope itemtype="https://schema.org/Blog"><article class="article" id="article" itemscope itemtype="https://schema.org/BlogPosting"><h1 class="article__title" itemprop="headline">MapBox 地图</h1><div class="article__meta"><time class="article__meta__time" datetime="2017-05-26T06:30:00.000Z" itemprop="datePublished">2017-05-26 14:30:00</time><div class="article__meta__categories"><a class="article__meta__categories__item" href="/categories/android/">android</a></div></div><div class="article__contents"><img src="https://bucketcuihp.oss-cn-hongkong.aliyuncs.com/392cce9e113b9d37d09cadac0693d989.jpg"/><p>个人感觉地图UI真的是很漂亮，如果你也在为你的应用寻找一款漂亮的地图，MapBox值得一试。看图：</p>
<p><img src="https://codeblog-1251501774.costj.myqcloud.com/f913c86e2e32bb61.png" alt="CuiHp"></p>
<h3 id="Add-Mapbox-as-a-dependency-to-your-build-gradle-file"><a href="#Add-Mapbox-as-a-dependency-to-your-build-gradle-file" class="headerlink" title="Add Mapbox as a dependency to your build.gradle file:"></a>Add Mapbox as a dependency to your <code>build.gradle</code> file:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">repositories &#123;</span><br><span class="line">    mavenCentral()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">dependencies &#123;</span><br><span class="line">    compile (&apos;com.mapbox.mapboxsdk:mapbox-android-sdk:5.0.2@aar&apos;)&#123;</span><br><span class="line">        transitive=true</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Required-configuration"><a href="#Required-configuration" class="headerlink" title="Required configuration"></a>Required configuration</h2><h3 id="Permissions"><a href="#Permissions" class="headerlink" title="Permissions"></a>Permissions</h3><p>从5.0开始，减少了需要包括任何地图SDK所需的东西在您的应用程序的清单文件。如果您计划在地图上显示用户位置或获取用户位置信息，您将需要添加位置许可。用户位置的权限也应检查使用<code>AndroidManifest.xml</code>时：</p>
<p><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;</code><br>or<br><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;</code></p>
<h3 id="Supported-Android-versions"><a href="#Supported-Android-versions" class="headerlink" title="Supported Android versions"></a>Supported Android versions</h3><p>MAPbox Android SDK是应用程序运行Android 15及以上。确保在你的应用程序的例子，请设置在应用程序清单以不低于15。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;uses-sdk android:minSdkVersion=&quot;15&quot;</span><br><span class="line">          android:targetSdkVersion=&quot;integer&quot;</span><br><span class="line">          android:maxSdkVersion=&quot;integer&quot; /&gt;</span><br></pre></td></tr></table></figure>
<h2 id="API-overview"><a href="#API-overview" class="headerlink" title="API overview"></a>API overview</h2><h3 id="MapView-and-MapboxMap"><a href="#MapView-and-MapboxMap" class="headerlink" title="MapView and MapboxMap"></a>MapView and MapboxMap</h3><p><code>MapView</code>和<code>MapboxMap</code>是Mapbox Android SDK的关键组件。 MapView的行为与任何其他视图一样，其行为可以使用XML布局文件静态更改，或者在运行时以编程方式更改。您可以将MapboxMap视为地图的控制器类。它包括设置和移动相机位置，添加标记，配置用户交互等的方法。</p>
<h3 id="Lifecycle-methods"><a href="#Lifecycle-methods" class="headerlink" title="Lifecycle methods"></a>Lifecycle methods</h3><p><code>MapView</code>包含自己的生命周期方法，用于管理Android的OpenGL生命周期，必须直接从包含的<code>Activity</code>调用。为了让您的应用程序正确地调用<code>MapView</code>的生命周期方法，您必须在包含MapView的<code>Activity</code>中覆盖以下生命周期方法:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">onCreate();</span><br><span class="line">onStart();</span><br><span class="line">onResume();</span><br><span class="line">onPause();</span><br><span class="line">onStop();</span><br><span class="line">onSaveInstanceState();</span><br><span class="line">onLowMemory();</span><br><span class="line">onDestroy();</span><br></pre></td></tr></table></figure>
<h3 id="XML-layout"><a href="#XML-layout" class="headerlink" title="XML layout"></a>XML layout</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;com.mapbox.mapboxsdk.maps.MapView</span><br><span class="line">android:id=&quot;@+id/mapview&quot;</span><br><span class="line">android:layout_width=&quot;match_parent&quot;</span><br><span class="line">android:layout_height=&quot;match_parent&quot;</span><br><span class="line">mapbox:mapbox_styleUrl=&quot;@string/style_mapbox_streets&quot; /&gt;</span><br></pre></td></tr></table></figure>
<h3 id="Access-tokens"><a href="#Access-tokens" class="headerlink" title="Access tokens"></a>Access tokens</h3><p>需要使用访问令牌来使用Mapbox服务和API，例如地图，路线和地理编码。您的访问令牌可以在您的<a href="https://www.mapbox.com/account/apps/" target="_blank" rel="noopener">帐户设置</a>中进行管理，您可以在其中检索当前的令牌并生成新的令牌。您应该为每个应用程序创建一个新的令牌，这将有助于您跟踪使用情况，并在令牌需要撤销的情况下尽量减少中断。</p>
<p>在您的应用程序中提供访问令牌有两个地方。如果您使用自定义应用程序对象，则可以将其放在<code>onCreate()</code>中，也可以在应用程序启动活动<code>onCreate()</code>上。在这两种情况下，您都需要调用<code>MapboxAccountManager</code>并传递上下文和访问令牌：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Mapbox.getInstance(context, &lt;your access token here&gt;);</span><br></pre></td></tr></table></figure>
<h3 id="Map-styles"><a href="#Map-styles" class="headerlink" title="Map styles"></a>Map styles</h3><ul>
<li><strong>Mapbox Streets</strong>: Mapbox Streets is a comprehensive, general-purpose map that emphasizes accurate, legible styling of road and transit networks.</li>
<li><strong>Outdoor</strong>: Mapbox Outdoors is a general-purpose map with curated datasets and specialized styling tailored to hiking, biking, and the most adventurous use cases..</li>
<li><strong>Light and Dark</strong>: Mapbox Light and Mapbox Dark are subtle, full-featured maps designed to provide geographic context while highlighting the data on your analytics dashboard, data visualization, or data overlay.</li>
<li><strong>Satellite</strong>: is our full global base map that is perfect as a blank canvas or an overlay for your own data.</li>
<li><strong>Satellite Streets</strong>: combines our Mapbox Satellite with vector data from Mapbox Streets. The comprehensive set of road, label, and POI information brings clarity and context to the crisp detail in our high-resolution satellite imagery.</li>
</ul>
<h4 id="更多使用—-gt-官网地址"><a href="#更多使用—-gt-官网地址" class="headerlink" title="更多使用—&gt;官网地址"></a>更多使用—&gt;<a href="https://www.mapbox.com/account/apps/" target="_blank" rel="noopener">官网地址</a></h4></div><div class="article__tags"><a class="article__tags__item" href="/tags/android/">android</a></div><div class="article__author" itemscope itemprop="author" itemtype="https://schema.org/Person"><img class="article__author__image" src="/images/avatar.jpg" alt="CuiHp"><a class="article__author__link" href="https://blog.cuihp.top" title="About CuiHp" rel="author">CuiHp</a><p class="article__author__desc">一选择，一条路，一岔口</p><div class="article__author__socials"><a class="article__author__socials__item" href="https://github.com/cuihp" title="github" target="_blank"><i class="fa fa-github"></i></a><a class="article__author__socials__item" href="/atom.xml" title="rss" target="_blank"><i class="fa fa-rss"></i></a></div><meta itemprop="name" content="CuiHp"></div><div class="sharer" id="sharer"><div class="sharer-inner"><div class="sharer__right"><button class="sharer__item" id="sharer-facebook"><i class="fa fa-facebook-official"></i></button><button class="sharer__item" id="sharer-twitter"><i class="fa fa-twitter"></i></button><button class="sharer__item" id="sharer-pinterest"><i class="fa fa-pinterest"></i></button><button class="sharer__item" id="sharer-pocket"><i class="fa fa-get-pocket"></i></button></div></div></div><!-- Disqus Code--><div id="disqus_thread"></div><script>(function() {
  var d = document, s = d.createElement('script');
  s.src = '//http-cuihp-top.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
})();</script><noscript>Enable JavaScript to see comments.</noscript><!-- Meta Tags for Structured Data--><meta itemprop="dateModified" content="2018-05-06T06:29:13.554Z"><meta itemprop="articleBody" content="个人感觉地图UI真的是很漂亮，如果你也在为你的应用寻找一款漂亮的地图，MapBox值得一试。看图：

Add Mapbox as a dependency to your build.gradle file:123456789repositories &amp;#123;    mavenCentral()&amp;#125;dependencies &amp;#123;    compile..."><meta itemprop="url" content="https://blog.cuihp.top/2017/05/26-mapbox.html"><meta itemprop="mainEntityOfPage" content="https://blog.cuihp.top/2017/05/26-mapbox.html"><div itemscope itemtype="https://schema.org/Organization" itemprop="publisher"><meta itemprop="name" content="谁动了我的芝麻酱"><div itemscope itemprop="logo" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://blog.cuihp.top/images/icon.png"></div></div><div itemscope itemtype="https://schema.org/ImageObject" itemprop="image"><meta itemprop="contentUrl" content="https://blog.cuihp.tophttps://bucketcuihp.oss-cn-hongkong.aliyuncs.com/392cce9e113b9d37d09cadac0693d989.jpg"><meta itemprop="url" content="https://blog.cuihp.tophttps://bucketcuihp.oss-cn-hongkong.aliyuncs.com/392cce9e113b9d37d09cadac0693d989.jpg"><meta itemprop="width" content="1280"><meta itemprop="height" content="720"></div></article><section class="related-posts"><h3>Related posts</h3><div class="related-posts__item__wrapper"><a class="related-posts__item" href="/2018/03/27-Android 反编译.html"><div class="related-posts__item__background" style="background-image:url('https://bucketcuihp.oss-cn-hongkong.aliyuncs.com/90e3d3734d6d7e1d3754c129c27b93a0.jpg');"></div><div class="related-posts__item__overlay"></div><span class="related-posts__item__title">Android反编译</span></a></div><div class="related-posts__item__wrapper"><a class="related-posts__item" href="/2016/03/28-vlc.html"><div class="related-posts__item__background" style="background-image:url('https://bucketcuihp.oss-cn-hongkong.aliyuncs.com/1e7e1d74339d6a43decb981812c664af.jpg');"></div><div class="related-posts__item__overlay"></div><span class="related-posts__item__title">VLC-Android 源码编译</span></a></div><div class="related-posts__item__wrapper"><a class="related-posts__item" href="/2016/01/13-动态隐藏APP图标.html"><div class="related-posts__item__background" style="background-image:url('https://bucketcuihp.oss-cn-hongkong.aliyuncs.com/42960c4e6bf90d1138969f48e8ca59f3.jpg');"></div><div class="related-posts__item__overlay"></div><span class="related-posts__item__title">动态隐藏APP图标</span></a></div></section></div></div></div><footer id="footer"><p class="copyright"><small>© 2018 CuiHp<br>Powered by <a href="https://blog.cuihp.top" rel="external">谁动了我的芝麻酱</a></small></p></footer><!--[if lt IE 10]><script src="/js/classList.min.js"></script><![endif]--><script src="/js/index.min.js"></script></body></html>